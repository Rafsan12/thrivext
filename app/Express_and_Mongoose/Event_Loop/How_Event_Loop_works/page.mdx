import { Steps } from 'nextra/components'


# How Event Loop works

## ЁЯФД Event Loop ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ: ржзрж╛ржкрзЗ ржзрж╛ржкрзЗ ржмрзНржпрж╛ржЦрзНржпрж╛

ржЖржорж░рж╛ ржЬрж╛ржирж┐, Node.js ржПржХржЯрж┐ **Single-threaded, Event-driven Architecture** ржЕржирзБрж╕рж░ржг ржХрж░рзЗред

ржПржЗ ржЖрж░рзНржХрж┐ржЯрзЗржХржЪрж╛рж░рзЗ ржжрзБржЗ ржзрж░ржгрзЗрж░ ржХрж╛ржЬ ржжрзЗржЦрж╛ ржпрж╛рзЯ:

- I/O Intensive Tasks (ржпрзЗржоржи: ржлрж╛ржЗрж▓ ржкрзЬрж╛, API ржХрж▓)
- CPU Intensive Tasks (ржпрзЗржоржи: heavy calculation)

Node.js ржПрж░ **Single-threaded nature** ржерж╛ржХрж╛ рж╕рждрзНрждрзНржмрзЗржУ ржПржЗ ржХрж╛ржЬржЧрзБрж▓рзЛ ржмрзНрж▓ржХ ржирж╛ ржХрж░рзЗ **Thread Pool**-ржП ржкрж╛ржарж┐рзЯрзЗ ржжрзЗрзЯред ржХрж╛ржЬ рж╢рзЗрж╖ рж╣рж▓рзЗ рж░рзЗржЬрж╛рж▓рзНржЯ ржкрж╛ржарж╛ржирзЛ рж╣рзЯ **Single Thread (Main Thread)**-ржП, ржПржмржВ Event Loop ржПржЯрж┐ ржкрзНрж░рж╕рзЗрж╕ ржХрж░рзЗ ржЗржЙржЬрж╛рж░ржХрзЗ рж░рзЗрж╕ржкржирзНрж╕ ржкрж╛ржарж┐рзЯрзЗ ржжрзЗрзЯред

ржПржЗ ржкрзБрж░рзЛ ржкрзНрж░рж╕рзЗрж╕ **Event Loop** ржжрзНржмрж╛рж░рж╛ ржкрж░рж┐ржЪрж╛рж▓рж┐ржд рж╣рзЯ, ржпрж╛ рж╣рж▓рзЛ Node.js ржПрж░ рж╣рж╛рж░рзНржЯред

---

## ЁЯХ╡я╕ПтАНтЩВя╕П Event Loop: ржПржХржЯрж┐ ржиржЬрж░ржжрж╛рж░рж┐рж░ ржорждрзЛ!

**Event Loop** ржПржХ ржзрж░ржирзЗрж░ ржУржпрж╝рж╛ржЪржорзНржпрж╛ржирзЗрж░ ржорждрзЛ, ржпрж╛ ржХрзНрж░ржорж╛ржЧржд ржкрж░рзНржпржмрзЗржХрзНрж╖ржг ржХрж░рзЗ:

- ржХрзЛржирзЛ Event Trigger рж╣рж▓рзЛ ржХрж┐ржирж╛
- ржХрзЛржирзЛ Callback ржЖрж╕рж▓рзЛ ржХрж┐ржирж╛
- ржХржЦржи, ржХрж┐ржнрж╛ржмрзЗ ржПржмржВ ржХрзЛржи Callback ржкрзНрж░рж╕рзЗрж╕ ржХрж░рждрзЗ рж╣ржмрзЗ

---

## ЁЯФД Event Loop ржПрж░ ржзрж╛ржкрж╕ржорзВрж╣ (Phases)

ржкрзБрж░рзЛ Event Loop ржПрж░ Execution **рзкржЯрж┐ ржкрзНрж░ржзрж╛ржи ржлрзЗржЬ** ржП ржмрж┐ржнржХрзНржд:

<Steps>


<div className=' flex flex-col lg:flex-row justify-between gap-5 lg:gap-0 items-center'>

<div className=' w-full'>

### ЁЯЯв **Start Phase** тАФ Callback Queue рждрзИрж░рж┐

- ржпржЦржи ржХрзЛржирзЛ Event Trigger рж╣рзЯ (ржпрзЗржоржи: user input, setTimeout, API response),
- рждржЦржи ржПржХржЯрж┐ Callback Function рждрзИрж░рж┐ рж╣рзЯ ржПржмржВ ржПржЯрж┐ **Callback Queue** рждрзЗ ржпрзЛржЧ рж╣рзЯред
- ржПржЗ Queue ржЗ Event Loop ржПрж░ рж╕ржмржЪрзЗрзЯрзЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржЕржВрж╢ред

тЭЧ ржПржЫрж╛рзЬрж╛ржУ, Event Loop ржП ржЖрж░ржУ Queue ржерж╛ржХрзЗ:

**`process.nextTick()` Queue** ржПржмржВ **`Microtask Queue`** тАФ ржПржжрзЗрж░ ржЖржорж░рж╛ ржкрж░рзЗ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░ржмрзЛред

</div>
---

<div className=' w-full'>

![screencapture-web-programming-hero-level2-batch-5-video-level2-batch-5-12-6-how-event-loop-works-2025-06-14-23_38_10.png](./screencapture-web-programming-hero-level2-batch-5-video-level2-batch-5-12-6-how-event-loop-works-2025-06-14-23_38_10.png)

</div>
</div>
---

<div className=' flex flex-col lg:flex-row justify-between gap-5 lg:gap-0 items-center'>

<div className=' w-full'>

### ЁЯХС **Timer Phase** тАФ `setTimeout` ржПржмржВ `setInterval`

- Event Loop ржкрзНрж░ржержорзЗ Timer Queue ржжрзЗржЦрзЗ:
  ржХрзЛржирзЛ `setTimeout()` ржмрж╛ `setInterval()` ржПрж░ рж╕ржорзЯ рж╢рзЗрж╖ рж╣рзЯрзЗржЫрзЗ ржХрж┐ржирж╛ред
- ржпржжрж┐ рж╣рзЯрзЗ ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ рждрж╛рж░ Callback Callback Queue рждрзЗ ржЪрж▓рзЗ ржЖрж╕рзЗ ржПржмржВ ржкрзНрж░рж╕рзЗрж╕ рж╣рзЯред

ЁЯФ║ Timer Callback ржЧрзБрж▓рзЛрж░ **Priority рж╕ржмрж╛рж░ ржЙржкрж░рзЗ** тАФ ржХрж╛рж░ржг ржПржЧрзБрж▓рзЛ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╕ржорзЯ ржкрж░рзЗ ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ рж╣ржУрзЯрж╛ ржЙржЪрж┐рждред

</div>
---

<div className=' w-full'>

![screencapture-web-programming-hero-level2-batch-5-video-level2-batch-5-12-6-how-event-loop-works-2025-06-14-23_39_12.png](./screencapture-web-programming-hero-level2-batch-5-video-level2-batch-5-12-6-how-event-loop-works-2025-06-14-23_39_12.png)

</div>
</div>

---

<div className=' flex flex-col lg:flex-row justify-between gap-5 lg:gap-0 items-center'>

<div className=' w-full'>

### ЁЯТ╜ **I/O Callback Phase** тАФ File, Network, DB Access

- ржПрж░ржкрж░ Event Loop ржжрзЗржЦрзЗ ржХрзЛржирзЛ I/O Task (ржпрзЗржоржи: File Read, HTTP Request) ржЖржЫрзЗ ржХрж┐ржирж╛ред
- ржПржЧрзБрж▓рзЛрж░ Callback ржЧрзБрж▓рзЛ рждржЦржи ржкрзНрж░рж╕рзЗрж╕ рж╣рзЯред

ЁЯУМ ржПржЗ ржзрж╛ржкржЯрж┐ Node.js ржПрж░ ржкрж╛рж░ржлрж░рзНржорзЗржирзНрж╕рзЗрж░ ржорзВрж▓ тАФ ржХрж╛рж░ржг I/O Task ржЧрзБрж▓рзЛржХрзЗ libuv ржмрзНржпрж╛ржХржЧрзНрж░рж╛ржЙржирзНржбрзЗ ржкрж╛ржарж┐рзЯрзЗ ржжрзЗрзЯ, ржпрж╛рждрзЗ Main Thread ржлрзНрж░рж┐ ржерж╛ржХрзЗред

</div>
---

<div className=' w-full'>

![screencapture-web-programming-hero-level2-batch-5-video-level2-batch-5-12-6-how-event-loop-works-2025-06-14-23_40_47.png](./screencapture-web-programming-hero-level2-batch-5-video-level2-batch-5-12-6-how-event-loop-works-2025-06-14-23_40_47.png)

</div>
</div>

---

<div className=' flex flex-col lg:flex-row justify-between gap-5 lg:gap-0 items-center'>

<div className=' w-full'>

### тЪб **setImmediate Phase** тАФ Immediate Callback Execution

- ржПрж░ржкрж░ Event Loop ржжрзЗржЦрзЗ ржХрзЛржирзЛ `setImmediate()` Callback ржЖржЫрзЗ ржХрж┐ржирж╛ред
- ржПржЯрж┐ ржПржХржЯрзБ ржмрж┐рж╢рзЗрж╖, ржХрж╛рж░ржг ржПржЯрж┐ current Polling phase рж╢рзЗрж╖ рж╣рж▓рзЗржЗ ржжрзНрж░рзБржд ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ рж╣рзЯред

ЁЯза Fun fact: ржПржЯрж┐ ржорзВрж▓ржд I/O Task complete рж╣ржУрзЯрж╛рж░ ржкрж░ Call Stack ржлрж╛ржБржХрж╛ рж╣рж▓рзЗржЗ ржЖржЧрзЗржЗ ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ рж╣рзЯред

</div>
---

<div className=' w-full'>

![screencapture-web-programming-hero-level2-batch-5-video-level2-batch-5-12-6-how-event-loop-works-2025-06-14-23_44_23 (1).png](<./screencapture-web-programming-hero-level2-batch-5-video-level2-batch-5-12-6-how-event-loop-works-2025-06-14-23_44_23_(1).png>)

</div>
</div>

---



<div className=' flex flex-col lg:flex-row justify-between gap-5 lg:gap-0 items-center'>

<div className=' w-full'>





### ЁЯФТ **Close Callbacks Phase** тАФ Resource Cleanup

- Event Loop рж╢рзЗрж╖рзЗ ржжрзЗржЦрзЗ ржХрзЛржирзЛ Resource (ржпрзЗржоржи: file/socket) ржмржирзНржз рж╣рзЯрзЗржЫрзЗ ржХрж┐ржирж╛ред
- ржпржжрж┐ рж╣рзЯрзЗ ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ рждрж╛рж░ ржЬржирзНржп ржпрзЗ Callback ржЖржЫрзЗ, рж╕рзЗржЯрж╛ ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ рж╣рзЯред
</div>
--- 

<div className=' w-full'>





![screencapture-web-programming-hero-level2-batch-5-video-level2-batch-5-12-6-how-event-loop-works-2025-06-14-23_46_55.png](./screencapture-web-programming-hero-level2-batch-5-video-level2-batch-5-12-6-how-event-loop-works-2025-06-14-23_46_55.png)

</div>
</div>



---
</Steps>

## ЁЯз╡ ржЕрждрж┐рж░рж┐ржХрзНржд Queue ржЧрзБрж▓рзЛ: Microtask & process.nextTick()

Event Loop ржП рж╢рзБржзрзБ Callback Queue-ржЗ ржирзЗржЗ тАФ ржЖрж░ржУ ржжрзБржЯрж┐ ржмрж┐рж╢рзЗрж╖ Queue ржЖржЫрзЗ:

| Queue                | Priority | ржмрзНржпрж╛ржЦрзНржпрж╛                                             |
| -------------------- | -------- | ---------------------------------------------------- |
| `process.nextTick()` | рж╕рж░рзНржмрзЛржЪрзНржЪ | ржпрзЗ ржХрзЛржирзЛ Callback рж╢рзЗрж╖ рж╣ржмрж╛рж░ ржкрж░рзЗ ржмрж╛ рждрж╛рж░ ржорж╛ржЭржЦрж╛ржирзЗ ржЖржЧрзЗ ржЪрж▓рзЗ |
| Microtask Queue      | ржжрзНржмрж┐рждрзАрзЯ  | `Promise.then()`, `queueMicrotask()` ржЗрждрзНржпрж╛ржжрж┐         |

![screencapture-web-programming-hero-level2-batch-5-video-level2-batch-5-12-6-how-event-loop-works-2025-06-14-23_48_07.png](./screencapture-web-programming-hero-level2-batch-5-video-level2-batch-5-12-6-how-event-loop-works-2025-06-14-23_48_07.png)

### ЁЯза ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг:

ржПржЗ Queue ржЧрзБрж▓рзЛ Event Loop ржПрж░ phase ржПрж░ **ржорж╛ржЭрзЗ ржорж╛ржЭрзЗржУ** ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ рж╣рждрзЗ ржкрж╛рж░рзЗред

рждрж╛ржЗ ржХржЦржи ржХрзЛржиржЯрж╛ ржЖржЧрзЗ ржЪрж▓ржмрзЗ тАФ рж╕рзЗржЯрж╛ ржЕржирзЗржХ рж╕ржорзЯ **unpredictable** рж╣рзЯрзЗ ржпрж╛рзЯред

## тЬЕ рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк :

| ржзрж╛ржк              | ржХрзА рж╣рзЯ                            |
| ---------------- | -------------------------------- |
| Start            | Callback Queue рждрзИрж░рж┐ рж╣рзЯ           |
| Timer            | setTimeout/setInterval ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ |
| I/O Callback     | File/Network ржХрж╛ржЬ ржкрзНрж░рж╕рзЗрж╕          |
| setImmediate     | Immediate callback execute       |
| Close Callback   | Resource release ржПрж░ callback     |
| Microtask Queue  | Promise, async-await ржПрж░ ржХрж╛ржЬ      |
| process.nextTick | Highest priority callback        |

**ржзрж╛ржкрж╕ржорзВрж╣:**

```
рзз. JS Code тЖТ Call Stack
рзи. Async ржХрж╛ржЬ тЖТ Node APIs (libuv) тЖТ Thread Pool
рзй. ржХрж╛ржЬ рж╢рзЗрж╖ тЖТ Callback Queue-рждрзЗ callback ржЬржорж╛ рж╣рзЯ
рзк. Event Loop тЖТ Stack ржЦрж╛рж▓рж┐ рж╣рж▓рзЗ callback ржПржирзЗ Stack-ржП ржврзЛржХрж╛рзЯ
```

### ЁЯУЙ Diagram:

![Editor _ Mermaid Chart-2025-06-08-032656.png](./Editor___Mermaid_Chart-2025-06-08-032656.png)

---

## тЬЕ ржЙржкрж╕ржВрж╣рж╛рж░:

- Single-threaded рж╕рж╛рж░рзНржнрж╛рж░ ржПржХрж╕рж╛ржерзЗ ржПржХржЯрж┐ ржХрж╛ржЬржЗ ржХрж░рждрзЗ ржкрж╛рж░рзЗ, рждрж╛ржЗ I/O ржХрж╛ржЬ ржпржжрж┐ block ржХрж░рзЗ, рж╕рж╛рж░рзНржнрж╛рж░ ржЖржЯржХрзЗ ржпрж╛ржпрж╝ред
- Node.js smartly async ржХрж╛ржЬржЧрзБрж▓рзЛ Thread Pool-ржП ржкрж╛ржарж┐ржпрж╝рзЗ event loop ржжрж┐ржпрж╝рзЗ Callback handle ржХрж░рзЗред
- ржПрж░ ржлрж▓рзЗ Node.js ржЕржирзЗржХ request handle ржХрж░рждрзЗ ржкрж╛рж░рзЗ, ржПржоржиржХрж┐ single-threaded рж╣ржпрж╝рзЗржУред

---
