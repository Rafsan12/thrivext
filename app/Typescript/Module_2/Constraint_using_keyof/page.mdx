   
   

## ЁЯза ржХрзА рж╣рж▓рзЛ `keyof`?

import Toggle from "/components/Toggle";
import { Callout } from "nextra/components";

import InterfaceExample from "./InterfaceExample.mdx";





TypeScript-ржП `keyof` рж╣рж▓рзЛ ржПржХржЯрж┐ **type operator** ржпрж╛ ржХрзЛржирзЛ object ржЯрж╛ржЗржкрзЗрж░ key ржЧрзБрж▓рж┐ржХрзЗ **union** ржЯрж╛ржЗржкрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рзЗред

ржПржЯрж┐ ржкрзНрж░рж╛ржпрж╝ржЗ **generic constraint** ржПрж░ рж╕ржЩрзНржЧрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ ржпрзЗржи ржЖржорж░рж╛ object-ржПрж░ key/value ржирж┐ржпрж╝рзЗ ржЯрж╛ржЗржк-рж╕рзЗржл ржЙржкрж╛ржпрж╝рзЗ ржХрж╛ржЬ ржХрж░рждрзЗ ржкрж╛рж░рж┐ред

## ЁЯУШ `keyof` ржЕржкрж╛рж░рзЗржЯрж░рзЗрж░ ржорж╛ржзрзНржпржорзЗ ржЬрзЗржирзЗрж░рж┐ржХ ржХржирж╕рзНржЯрзНрж░рзЗржЗржирзНржЯ

### ЁЯЪЧ ржПржХржЯрж┐ ржЙржжрж╛рж╣рж░ржг ржжрж┐рзЯрзЗ рж╢рзБрж░рзБ ржХрж░рж┐

ржЖржорж░рж╛ ржПржХржЯрж┐ `vehicle` ржЯрж╛ржЗржк ржмрж╛ржирж┐рзЯрзЗржЫрж┐ ржпрзЗржЦрж╛ржирзЗ рждрж┐ржиржЯрж┐ ржнрзЗрж╣рж┐ржХрзЗрж▓ ржЯрж╛ржЗржк ржЖржЫрзЗтАФрж╕ржмржЧрзБрж▓рзЛржЗ рж╕рзНржЯрзНрж░рж┐ржВ:

```tsx
type Vehicle = {
  bike: string;
  car: string;
  ship: string;
};
```

### ЁЯзН ржХрж╛ржЙржХрзЗ ржЖржорж░рж╛ ржнрзЗрж╣рж┐ржХрзЗрж▓ржЧрзБрж▓рзЛрж░ ржорж╛рж▓рж┐ржХ ржмрж╛ржирж╛рждрзЗ ржЪрж╛ржЗ

ржПржХржЬржи ржмрзНржпржХрзНрждрж┐ рждрж┐ржиржЯрж┐ ржнрзЗрж╣рж┐ржХрзЗрж▓ ржЯрж╛ржЗржкрзЗрж░ ржоржзрзНржпрзЗ ржпрзЗржХрзЛржирзЛ ржПржХржЯрж┐ ржнрзЗрж╣рж┐ржХрзЗрж▓-ржПрж░ ржорж╛рж▓рж┐ржХ рж╣рждрзЗ ржкрж╛рж░рзЗред ржпржжрж┐ ржорзНржпрж╛ржирзБрзЯрж╛рж▓рж┐ ржХрж░рж┐, рждрж╛рж╣рж▓рзЗ ржПржоржи рж╣ржмрзЗ:

```tsx
type Owner1 = 'bike' | 'car' | 'ship'; // ржорзНржпрж╛ржирзБрзЯрж╛рж▓рж┐ ржмрж╛ржирж╛ржирзЛ
```

### тЬЕ `keyof` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖрж░ржУ рж╕рж╣ржЬржнрж╛ржмрзЗ ржХрж░рж╛ ржпрж╛рзЯ

```tsx
type Owner2 = keyof Vehicle; // 'bike' | 'car' | 'ship'
```

ржПржЦрж╛ржирзЗ ржЖржорж░рж╛ ржорзНржпрж╛ржирзБрзЯрж╛рж▓рж┐ ржирж╛ ржХрж░рзЗ рж╕рж░рж╛рж╕рж░рж┐ `Vehicle` ржЯрж╛ржЗржк-ржПрж░ key ржЧрзБрж▓рзЛ ржжрж┐рзЯрзЗ ржЯрж╛ржЗржк ржмрж╛ржирж┐рзЯрзЗ ржлрзЗрж▓рзЗржЫрж┐редржПржЗржнрж╛ржмрзЗ `keyof` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ future-proof ржЯрж╛ржЗржк ржмрж╛ржирж╛ржирзЛ ржпрж╛ржпрж╝ тАФ Vehicle ржЯрж╛ржЗржкрзЗ ржпржжрж┐ ржЖрж░ржУ ржХрж┐ржЫрзБ ржпрзБржХрзНржд рж╣рзЯ, рждрж╛рж╣рж▓рзЗ Owner2-рждрзЗржУ ржЕржЯрзЛ ржпрзБржХрзНржд рж╣ржмрзЗред

```tsx
const person1: Owner1 = 'ship';
const person2: Owner2 = 'ship';
```

ЁЯФБ ржжрзБржЗ ржнрж╛ржмрзЗржЗ ржХрж░рж╛ ржпрж╛рзЯ, ржХрж┐ржирзНрждрзБ `keyof` ржмрзНржпржмрж╣рж╛рж░рзЗ ржХрзЛржбржЯрж╛ ржЕржирзЗржХ ржмрзЗрж╢рж┐ **ржбрж╛ржЗржирж╛ржорж┐ржХ ржУ рж╕рзНржХрзЗрж▓рзЗржмрж▓** рж╣рзЯред ржнржмрж┐рж╖рзНржпрждрзЗ ржпржжрж┐ `Vehicle` ржЯрж╛ржЗржкрзЗ ржирждрзБржи ржХрзА ржпрзЛржЧ рж╣рзЯ, рждрж╛рж╣рж▓рзЗ `Owner2` ржирж┐ржЬрзЗ ржерзЗржХрзЗржЗ ржЖржкржбрзЗржЯ рж╣рзЯрзЗ ржпрж╛ржмрзЗред

---

<Callout emoji="ЁЯТб">
<Toggle title='ЁЯзй ржЙржжрж╛рж╣рж░ржг рзи: `interface` ржПрж░ рж╕рж╛ржерзЗ `keyof` ржмрзНржпржмрж╣рж╛рж░' children={<InterfaceExample/>}/>
</Callout>


---

## ЁЯУЪ ржмрж╛рж╕рзНрждржм ржЙржжрж╛рж╣рж░ржг: ржЕржмржЬрзЗржХрзНржЯ ржерзЗржХрзЗ ржнрзНржпрж╛рж▓рзБ ржкрж╛ржУрзЯрж╛

ржзрж░рж┐ ржЖржорж╛ржжрзЗрж░ ржПржХржЯрж┐ ржЗржЙржЬрж╛рж░ ржЕржмржЬрзЗржХрзНржЯ ржЖржЫрзЗ:

```tsx
const user = {
  name: 'Mr',
  age: 25,
  address: 'ctg'
};

user['name']; // key ржжрж┐рзЯрзЗ value ржкрж╛ржУрзЯрж╛ ржпрж╛ржЪрзНржЫрзЗ
```

ржЖржорж░рж╛ ржЪрж╛ржЗ ржПржХржЯрж┐ ржЬрзЗржирзЗрж░рж┐ржХ ржлрж╛ржВрж╢ржи ржмрж╛ржирж╛рждрзЗ ржпрж╛ ржпрзЗржХрзЛржирзЛ ржЕржмржЬрзЗржХрзНржЯрзЗрж░ property value рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржмрзЗред

 тЭМ ржнрзБрж▓ ржЙржкрж╛рзЯ тАУ ржЯрж╛ржЗржк ржирж┐рж░рж╛ржкрждрзНрждрж╛ ржирзЗржЗ

```tsx
const getProperty = (obj: string, key: string) => {
  return obj[key]; // ржПржЦрж╛ржирзЗ ржнрзБрж▓ рж╣ржмрзЗ
};
```

ржПржЗржнрж╛ржмрзЗ ржЯрж╛ржЗржк ржжрж┐рж▓рзЗ TypeScript ржХрзЛржи validation ржжрж┐ржЪрзНржЫрзЗ ржирж╛тАФржпрзЗржХрзЛржирзЛ ржнрзБрж▓ key ржжрж┐рж▓рзЗржУ ржЪрж▓ржмрзЗред

 тЭМ ржПржХржЯрзБ ржЙржирзНржиржд ржХрж┐ржирзНрждрзБ ржПржЦржиржУ рж╕ржорж╕рзНржпрж╛

```tsx

const getProperty = <X, Y>(obj: X, key: Y) => {
  return obj[key]; // ржПржЦржиржУ TypeScript ржмрж▓ржмрзЗ: 'Y' ржЯрж╛ржЗржкржЯрж┐ 'X' ржЯрж╛ржЗржкрзЗрж░ index ржирж╛
};
```

 тЬЕ ржарж┐ржХ ржЙржкрж╛рзЯ тАУ `keyof` ржжрж┐рзЯрзЗ constraint ржмрж╕рж╛ржирзЛ

```tsx
const getProperty = <X, Y extends keyof X>(obj: X, key: Y): X[Y] => {
  return obj[key];
};
```

---

ржПржЦрж╛ржирзЗ ржЖржорж░рж╛ `Y` ржЯрж╛ржЗржкржХрзЗ `X` ржПрж░ `keyof` ржЕрж░рзНржерж╛рзО key ржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ рж╕рзАржорж╛ржмржжрзНржз ржХрж░рзЗ ржжрж┐рзЯрзЗржЫрж┐ред ржПржЦржи TypeScript ржмрзБржЭрждрзЗ ржкрж╛рж░ржмрзЗ ржпрзЗ `key` ржЕржмрж╢рзНржпржЗ `obj` ржПрж░ ржмрзИржз key рж╣рждрзЗ рж╣ржмрзЗред

### тЬЕ ржмрзНржпржмрж╣рж╛рж░:

```tsx
const result1 = getProperty(user, 'name'); // 'Mr'
```

#### тЬЕ Bonus: ржПржЦржи ржЖржорж░рж╛ ржпрзЗржХрзЛржирзЛ object ржПржЗ ржлрж╛ржВрж╢ржирзЗ ржкрж╛ржарж╛рждрзЗ ржкрж╛рж░рж┐

```tsx
const car = {
  model: "BMW",
};

const userName = getProperty(user, "name");    // тЬЕ OK
const carModel = getProperty(car, "model");    // тЬЕ OK
const errorTry = getProperty(car, "color");    // тЭМ Error: 'color' does not exist
```

ЁЯСЙ ржПржЗржнрж╛ржмрзЗ keyof ржПржмржВ Generic Constraint ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржорж╛ржжрзЗрж░ ржХрзЛржб рж╣рзЯ ржЖрж░ржУ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзА, ржЯрж╛ржЗржк-рж╕рзЗржл ржПржмржВ maintainableред
тЬЕ ржЙржкрж╕ржВрж╣рж╛рж░:

| ржмрж┐рж╖рзЯ | ржмрж░рзНржгржирж╛ |
| --- | --- |
| `keyof` | ржХрзЛржирзЛ object ржЯрж╛ржЗржкрзЗрж░ key ржЧрзБрж▓рж┐ржХрзЗ union ржЯрж╛ржЗржкрзЗ рж░рзВржк ржжрзЗрзЯ |
| ржмрзНржпржмрж╣рж╛рж░ | ржЯрж╛ржЗржк ржкрзБржирж░рзНржмрзНржпржмрж╣рж╛рж░ржпрзЛржЧрзНржп ржУ ржЯрж╛ржЗржк-рж╕рзЗржл рж░рж╛ржЦрждрзЗ |
| Generic Constraint | `K extends keyof T` тАФ key ржЧрзБрж▓рзЛ object ржЯрж╛ржЗржкрзЗрж░ ржоржзрзНржпрзЗ ржЖржЫрзЗ ржХрж┐ржирж╛ validate ржХрж░рзЗ |
| рж▓рж╛ржн | ржЯрж╛ржЗржк-рж╕рзЗржл ржХрзЛржб, ржнрзБрж▓ ржзрж░рждрзЗ ржкрж╛рж░рж╛, future-proof ржЯрж╛ржЗржк, ржХржо ржХрзЛржб |